<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 700">
  <!-- CI/CD Deployment Pipeline -->
  <defs>
    <style>
      .title { font: bold 28px sans-serif; fill: #1F2937; }
      .subtitle { font: 16px sans-serif; fill: #6B7280; }
      .stage-title { font: bold 16px sans-serif; fill: #FFFFFF; }
      .stage-text { font: 13px sans-serif; fill: #374151; }
      .label { font: 12px sans-serif; fill: #6B7280; }
      .status-text { font: bold 14px sans-serif; }
    </style>
    
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#6B7280" />
    </marker>
    
    <marker id="arrow-success" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#10B981" />
    </marker>
    
    <marker id="arrow-fail" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#EF4444" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="700" y="40" text-anchor="middle" class="title">CI/CD Deployment Pipeline</text>
  <text x="700" y="65" text-anchor="middle" class="subtitle">Automated Build, Test and Deploy with GitHub Actions</text>
  
  <!-- Stage 1: Code Push -->
  <g id="stage-1">
    <rect x="50" y="120" width="180" height="140" rx="8" fill="#EEF2FF" stroke="#4F46E5" stroke-width="3"/>
    <circle cx="140" cy="140" r="15" fill="#4F46E5"/>
    <text x="140" y="148" text-anchor="middle" class="stage-title">1</text>
    
    <text x="140" y="175" text-anchor="middle" class="stage-title" fill="#4F46E5">Git Push</text>
    <text x="140" y="200" text-anchor="middle" class="stage-text">Developer pushes</text>
    <text x="140" y="220" text-anchor="middle" class="stage-text">code to branch</text>
    <text x="140" y="245" text-anchor="middle" class="label">$ git push origin main</text>
  </g>
  
  <line x1="230" y1="190" x2="280" y2="190" stroke="#6B7280" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="255" y="180" text-anchor="middle" class="label">trigger</text>
  
  <!-- Stage 2: CI Triggered -->
  <g id="stage-2">
    <rect x="280" y="120" width="200" height="140" rx="8" fill="#DBEAFE" stroke="#3B82F6" stroke-width="3"/>
    <circle cx="380" cy="140" r="15" fill="#3B82F6"/>
    <text x="380" y="148" text-anchor="middle" class="stage-title">2</text>
    
    <text x="380" y="175" text-anchor="middle" class="stage-title" fill="#3B82F6">CI Triggered</text>
    <text x="380" y="200" text-anchor="middle" class="stage-text">GitHub Actions</text>
    <text x="380" y="220" text-anchor="middle" class="stage-text">workflow starts</text>
    <text x="380" y="245" text-anchor="middle" class="label">on: push: [main]</text>
  </g>
  
  <line x1="480" y1="190" x2="530" y2="190" stroke="#6B7280" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- Stage 3: Install & Test -->
  <g id="stage-3">
    <rect x="530" y="120" width="200" height="140" rx="8" fill="#FEF3C7" stroke="#F59E0B" stroke-width="3"/>
    <circle cx="630" cy="140" r="15" fill="#F59E0B"/>
    <text x="630" y="148" text-anchor="middle" class="stage-title">3</text>
    
    <text x="630" y="175" text-anchor="middle" class="stage-title" fill="#F59E0B">Install & Test</text>
    <text x="630" y="195" text-anchor="middle" class="stage-text">npm ci (with cache)</text>
    <text x="630" y="215" text-anchor="middle" class="stage-text">npm run lint</text>
    <text x="630" y="235" text-anchor="middle" class="stage-text">npm test --coverage</text>
  </g>
  
  <!-- Decision: Tests Pass? -->
  <polygon points="830,150 880,190 830,230 780,190" fill="#FEF3C7" stroke="#F59E0B" stroke-width="3"/>
  <text x="830" y="198" text-anchor="middle" class="stage-text" font-weight="bold">Tests</text>
  <text x="830" y="213" text-anchor="middle" class="stage-text" font-weight="bold">Pass?</text>
  
  <line x1="730" y1="190" x2="780" y2="190" stroke="#6B7280" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- Fail Path -->
  <line x1="830" y1="230" x2="830" y2="280" stroke="#EF4444" stroke-width="3" marker-end="url(#arrow-fail)"/>
  <text x="845" y="260" class="label" fill="#EF4444">fail</text>
  
  <rect x="760" y="280" width="140" height="60" rx="8" fill="#FEE2E2" stroke="#EF4444" stroke-width="3"/>
  <text x="830" y="308" text-anchor="middle" class="status-text" fill="#EF4444">âŒ Fail</text>
  <text x="830" y="328" text-anchor="middle" class="stage-text">Notify developer</text>
  
  <!-- Success Path -->
  <line x1="880" y1="190" x2="930" y2="190" stroke="#10B981" stroke-width="3" marker-end="url(#arrow-success)"/>
  <text x="905" y="180" class="label" fill="#10B981">pass âœ“</text>
  
  <!-- Stage 4: Build -->
  <g id="stage-4">
    <rect x="930" y="120" width="200" height="140" rx="8" fill="#E0E7FF" stroke="#6366F1" stroke-width="3"/>
    <circle cx="1030" cy="140" r="15" fill="#6366F1"/>
    <text x="1030" y="148" text-anchor="middle" class="stage-title">4</text>
    
    <text x="1030" y="175" text-anchor="middle" class="stage-title" fill="#6366F1">EAS Build</text>
    <text x="1030" y="195" text-anchor="middle" class="stage-text">eas build --platform all</text>
    <text x="1030" y="215" text-anchor="middle" class="stage-text">--profile production</text>
    <text x="1030" y="235" text-anchor="middle" class="stage-text">--non-interactive</text>
    <text x="1030" y="255" text-anchor="middle" class="label">â±ï¸ ~15-20 min</text>
  </g>
  
  <line x1="1130" y1="190" x2="1180" y2="190" stroke="#6B7280" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- Stage 5: Deploy -->
  <g id="stage-5">
    <rect x="1180" y="120" width="190" height="140" rx="8" fill="#D1FAE5" stroke="#10B981" stroke-width="3"/>
    <circle cx="1275" cy="140" r="15" fill="#10B981"/>
    <text x="1275" y="148" text-anchor="middle" class="stage-title">5</text>
    
    <text x="1275" y="175" text-anchor="middle" class="stage-title" fill="#10B981">Deploy</text>
    <text x="1275" y="195" text-anchor="middle" class="stage-text">eas update</text>
    <text x="1275" y="215" text-anchor="middle" class="stage-text">--branch production</text>
    <text x="1275" y="240" text-anchor="middle" class="status-text" fill="#10B981">âœ“ Success</text>
  </g>
  
  <!-- Alternative Flows -->
  <g id="alternative-flows">
    <text x="50" y="400" class="subtitle" font-weight="bold">Alternative Workflows:</text>
    
    <!-- PR Flow -->
    <rect x="50" y="420" width="400" height="100" rx="8" fill="#F9FAFB" stroke="#E5E7EB" stroke-width="2"/>
    <text x="70" y="445" class="stage-title" fill="#6366F1">ğŸ“‹ Pull Request Flow</text>
    <text x="70" y="470" class="stage-text">on: pull_request - Run tests only</text>
    <text x="70" y="490" class="stage-text">âœ“ No build, just validation</text>
    <text x="70" y="510" class="stage-text">âœ“ Fast feedback for PRs</text>
    
    <!-- Preview Flow -->
    <rect x="480" y="420" width="400" height="100" rx="8" fill="#F9FAFB" stroke="#E5E7EB" stroke-width="2"/>
    <text x="500" y="445" class="stage-title" fill="#F59E0B">ğŸ” Preview/Staging Flow</text>
    <text x="500" y="470" class="stage-text">on: push: [develop] - Build preview</text>
    <text x="500" y="490" class="stage-text">âœ“ Internal testing builds</text>
    <text x="500" y="510" class="stage-text">âœ“ QA environment</text>
    
    <!-- Scheduled Flow -->
    <rect x="910" y="420" width="400" height="100" rx="8" fill="#F9FAFB" stroke="#E5E7EB" stroke-width="2"/>
    <text x="930" y="445" class="stage-title" fill="#10B981">â° Scheduled Flow</text>
    <text x="930" y="470" class="stage-text">on: schedule: cron - Nightly builds</text>
    <text x="930" y="490" class="stage-text">âœ“ Automated regression testing</text>
    <text x="930" y="510" class="stage-text">âœ“ Latest dependency testing</text>
  </g>
  
  <!-- Cache Optimization Note -->
  <g id="cache-note">
    <rect x="50" y="550" width="450" height="120" rx="8" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2"/>
    <text x="70" y="575" class="stage-title" fill="#F59E0B">âš¡ Performance Tip: Caching</text>
    <text x="70" y="600" class="stage-text" font-family="monospace">- uses: actions/setup-node@v3</text>
    <text x="70" y="620" class="stage-text" font-family="monospace">  with:</text>
    <text x="70" y="640" class="stage-text" font-family="monospace">    node-version: 18</text>
    <text x="70" y="660" class="stage-text" font-family="monospace">    cache: 'npm'</text>
    <text x="250" y="660" class="stage-text" fill="#F59E0B" font-weight="bold">â† Bug #6 fix!</text>
  </g>
  
  <!-- Secrets Note -->
  <g id="secrets-note">
    <rect x="530" y="550" width="450" height="120" rx="8" fill="#FEE2E2" stroke="#EF4444" stroke-width="2"/>
    <text x="550" y="575" class="stage-title" fill="#EF4444">ğŸ” Security: Secrets Management</text>
    <text x="550" y="600" class="stage-text">GitHub Settings - Secrets - Actions</text>
    <text x="550" y="620" class="stage-text">Required secrets:</text>
    <text x="550" y="640" class="stage-text">â€¢ EXPO_TOKEN (from eas whoami)</text>
    <text x="550" y="660" class="stage-text">â€¢ API_KEYS (if needed)</text>
  </g>
  
  <!-- Benefits -->
  <g id="benefits">
    <rect x="1010" y="550" width="360" height="120" rx="8" fill="#D1FAE5" stroke="#10B981" stroke-width="2"/>
    <text x="1030" y="575" class="stage-title" fill="#10B981">âœ¨ CI/CD Benefits</text>
    <text x="1030" y="600" class="stage-text">âœ“ Automated quality checks</text>
    <text x="1030" y="620" class="stage-text">âœ“ Faster deployments</text>
    <text x="1030" y="640" class="stage-text">âœ“ Consistent builds</text>
    <text x="1030" y="660" class="stage-text">âœ“ Reduced human error</text>
  </g>
  
  <!-- Footer -->
  <text x="700" y="695" text-anchor="middle" class="label">Full pipeline time: ~20-30 minutes | With cache: ~10-15 minutes</text>
</svg>
